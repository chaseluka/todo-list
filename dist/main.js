/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={163:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=163,e.exports=t}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>{if(""!==e.projectTitle){const i=document.querySelector(".projects-list"),r=document.createElement("div");r.classList.add("project"),n=r,""!==t.prohibitDuplicateProjects(e).thisProject.duplicateProjectTitle?n.setAttribute("data-project",`${e.duplicateProjectTitle}`):n.setAttribute("data-project",`${e.projectTitle}`),i.appendChild(r);const s=document.createElement("div");s.classList.add("project-left");const o=document.createElement("div");o.classList.add("project-right"),r.appendChild(s),r.appendChild(o);const a=document.createElement("img");a.src="../src/images/format-list-bulleted.svg";const c=document.createElement("div");c.classList.add("project-title"),c.textContent=e.projectTitle,s.appendChild(a),s.appendChild(c);const l=document.createElement("img");l.src="../src/images/delete.svg",o.appendChild(l),l.addEventListener("click",(n=>{const r=n.target.parentElement.parentElement;i.removeChild(r),t.deleteProjectFromArray(e)})),s.addEventListener("click",(()=>{t.setSelectedProject(e),document.getElementById("new-task").style.display="flex",t.completedTasksIsClicked.completedClicked=!1,t.showSelectedProject()}))}var n},t=(()=>{const t={projectsList:[],completedTasks:[]},n=n=>{const i={projectSelected:"false",projectTitle:n,duplicateProjectTitle:""};(n=[]).unshift(i),t.projectsList.push(n),e(n[0]),f()},r=e=>{e.forEach((e=>{void 0===e.projectTitle&&i(e)}))},s=()=>{const e=document.querySelector(".task-list");for(;e.lastElementChild;)e.removeChild(e.lastElementChild)},o=e=>{t.projectsList=t.projectsList.filter((t=>""!==e.duplicateProjectTitle?t[0].duplicateProjectTitle!==e.duplicateProjectTitle:""===t[0].duplicateProjectTitle?t[0].projectTitle!==e.projectTitle:t[0])),f()},a=e=>{t.projectsList.forEach((t=>{""!==e.duplicateProjectTitle?t[0].projectTitle===e.projectTitle&&e.duplicateProjectTitle===t[0].duplicateProjectTitle?t[0].projectSelected="true":t[0].projectSelected="false":t[0].projectTitle===e.projectTitle&&""===t[0].duplicateProjectTitle?t[0].projectSelected="true":t[0].projectSelected="false"})),s(),r(c())},c=()=>t.projectsList.filter((e=>"true"===e[0].projectSelected))[0],l=e=>[...document.querySelectorAll(".project")].filter((t=>t.getAttribute("data-project")===e)),h=()=>{const e=document.querySelector("#completed div");!0===u.completedClicked?(e.classList.add("project-selected"),t.projectsList.forEach((e=>{""!==e[0].duplicateProjectTitle?l(e[0].duplicateProjectTitle)[0].classList.remove("project-selected"):l(e[0].projectTitle)[0].classList.remove("project-selected")}))):(e.classList.remove("project-selected"),t.projectsList.forEach((e=>{"true"===e[0].projectSelected?""!==e[0].duplicateProjectTitle?l(e[0].duplicateProjectTitle)[0].classList.add("project-selected"):l(e[0].projectTitle)[0].classList.add("project-selected"):""!==e[0].duplicateProjectTitle?l(e[0].duplicateProjectTitle)[0].classList.remove("project-selected"):l(e[0].projectTitle)[0].classList.remove("project-selected")})))},u={completedClicked:!1};let d="",p="";const f=()=>{d=JSON.stringify(t.projectsList),localStorage.setItem("MyProjects",d)};return{projectsArray:t,addProjectToArray:n,loadProjectonDOM:r,determineSelectedProject:c,setSelectedProject:a,prohibitDuplicateProjects:e=>{let n=t.projectsList.filter((t=>""!==t[0].duplicateProjectTitle?t[0].duplicateProjectTitle===e.duplicateProjectTitle:t[0].projectTitle===e.projectTitle));return n.length>1&&(e.duplicateProjectTitle=e.projectTitle+100*Math.random()),{duplicateProjects:n,thisProject:e}},deleteProjectFromArray:o,clearAllProjectsFromDOM:s,deleteTaskfromLibrary:e=>{var n;n=c().filter((t=>""!==t.duplicateTitle?t.duplicateTitle!==e:""!==t.title?t.title!==e:void 0)),t.projectsList.forEach((e=>{if("true"===e[0].projectSelected){let i=t.projectsList.indexOf(e);t.projectsList.splice(i,1,n)}})),f()},findTaskInProject:e=>c().filter((t=>""!==t.duplicateTitle?t.duplicateTitle===e:""!==t.title?t.title===e:void 0)),showSelectedProject:h,completedTasksIsClicked:u,saveProjectData:f,saveCompletedTasksData:()=>{p=JSON.stringify(t.completedTasks),localStorage.setItem("MyCompletedTasks",p)},retrieveData:()=>{let i=JSON.parse(localStorage.getItem("MyProjects"));if(null===localStorage.getItem("MyProjects")&&null===localStorage.getItem("MyCompletedTasks"))t.completedTasks=[],t.projectsList=[],n("My Tasks"),a(t.projectsList[0][0]),h(),o("My Tasks");else if(null!==localStorage.getItem("MyCompletedTasks")&&0===i.length){let e=JSON.parse(localStorage.getItem("MyCompletedTasks"));t.completedTasks=e,t.projectsList=[]}else{let n=JSON.parse(localStorage.getItem("MyCompletedTasks"));t.completedTasks=n;let i=JSON.parse(localStorage.getItem("MyProjects"));t.projectsList=i,a(t.projectsList[0][0]),t.projectsList.forEach((t=>e(t[0]))),h()}}}})(),i=e=>{if(""!==e.title&&void 0===e.projectTitle){const n=document.querySelector(".task-list"),i=document.createElement("div");i.classList.add("row"),(t=>{""!==r.prohibitDuplicateTitles(e).thisTask.duplicateTitle?t.setAttribute("data-task",`${e.duplicateTitle}`):t.setAttribute("data-task",`${e.title}`)})(i),n.appendChild(i);const o=document.createElement("div"),a=document.createElement("div");o.classList.add("row-left"),a.classList.add("row-right"),i.appendChild(o),i.appendChild(a);const c=document.createElement("img");c.src="../src/images/blank-circle.svg",o.appendChild(c);const l=document.createElement("div");l.classList.add("task"),o.appendChild(l);const h=document.createElement("div");if(h.textContent=e.title,h.classList.add("task-title"),"none"!==e.priority){const t=document.createElement("div");t.classList.add("task-title-container"),l.appendChild(t);const n=document.createElement("div");t.appendChild(n),t.appendChild(h),"low"===e.priority?(n.textContent="!",n.classList.add("low")):"medium"===e.priority?(n.textContent="!!",n.classList.add("medium")):"high"===e.priority&&(n.textContent="!!!",n.classList.add("high"))}else l.appendChild(h);if(""!==e.notes){const t=document.createElement("div");t.textContent=e.notes,t.classList.add("task-notes"),l.appendChild(t)}if(""!==e.date){const t=document.createElement("div");t.textContent=e.date,t.classList.add("task-date"),l.appendChild(t)}const u=document.createElement("img");u.src="../src/images/edit.svg";const d=document.createElement("img");d.src="../src/images/delete.svg",a.appendChild(u),a.appendChild(d),d.addEventListener("click",(e=>{const i=e.target.parentElement.parentElement;n.removeChild(i),t.deleteTaskfromLibrary(i.getAttribute("data-task"))})),u.addEventListener("click",(e=>(e=>{const n=e.target.parentElement.parentElement;document.querySelector(".task-list").removeChild(n),s.appendTask();const i=()=>({taskInfo:t.determineSelectedProject().filter((e=>""!==e.duplicateTitle?e.duplicateTitle===n.getAttribute("data-task"):e.title===n.getAttribute("data-task")))});s.title.value=i().taskInfo[0].title,s.notes.value=i().taskInfo[0].notes,s.date.value=i().taskInfo[0].date,t.deleteTaskfromLibrary(n.getAttribute("data-task"))})(e))),c.addEventListener("click",(e=>(e=>{const n=e.target.parentElement.parentElement,i=document.querySelector(".task-list");e.target.src="../src/images/checked-circle.svg",setTimeout((()=>{n.classList.add("out")}),"3500"),setTimeout((()=>{t.projectsArray.completedTasks.push(t.findTaskInProject(n.getAttribute("data-task"))),t.deleteTaskfromLibrary(n.getAttribute("data-task")),i.removeChild(n),t.saveCompletedTasksData()}),"6000")})(e)))}},r={newTask:()=>{const e={title:document.getElementById("title").value,notes:document.getElementById("notes").value,date:document.getElementById("date").value,priority:document.getElementById("priority-list").value,duplicateTitle:"",completed:!1};return t.determineSelectedProject().push(e),i(e),t.saveProjectData(),{task:e}},prohibitDuplicateTitles:e=>{const n=t.determineSelectedProject().filter((t=>""!==t.duplicateTitle?t.duplicateTitle===e.duplicateTitle:t.title===e.title));return n.length>1&&(e.duplicateTitle=e.title+100*Math.random()),{duplicateTitles:n,thisTask:e}}},s=(()=>{const e=document.querySelector(".task-list"),t=document.getElementById("new-task"),n=document.createElement("div");n.classList.add("row");const i=document.createElement("div"),s=document.createElement("div");i.classList.add("row-left"),s.classList.add("row-right");const o=document.createElement("img");o.src="../src/images/blank-circle.svg";const a=document.createElement("div");a.classList.add("task-title");const c=document.createElement("div"),l=document.createElement("div"),h=document.createElement("div");c.classList.add("input-container"),l.classList.add("input-container"),h.classList.add("input-container");const u=document.createElement("input");u.type="text",u.id="title",u.name="title",u.placeholder="Title";const d=document.createElement("input");d.type="text",d.id="notes",d.name="notes",d.placeholder="Notes";const p=document.createElement("input");p.type="text",p.id="date",p.name="date",p.placeholder="date";const f=document.createElement("div");f.classList.add("priority");const g=document.createElement("div");g.textContent="Priority: ";const m=document.createElement("select");m.id="priority-list",m.name="priority-list";const v=document.createElement("option");v.value="none",v.textContent="none";const y=document.createElement("option");y.value="low",y.textContent="low";const b=document.createElement("option");b.value="medium",b.textContent="medium";const w=document.createElement("option");w.value="high",w.textContent="high";const _=document.createElement("div");_.id="add-task-button";const T=document.createElement("img");T.src="../src/images/check.svg";const I=document.createElement("div");I.id="cancel-add-task";const E=document.createElement("img");E.src="../src/images/delete.svg";const k=()=>{S(),e.appendChild(n),n.appendChild(i),n.appendChild(s),i.appendChild(o),i.appendChild(a),a.appendChild(c),a.appendChild(l),a.appendChild(h),c.appendChild(u),l.appendChild(d),h.appendChild(p),h.appendChild(f),f.appendChild(g),f.appendChild(m),m.appendChild(v),m.appendChild(y),m.appendChild(b),m.appendChild(w),s.appendChild(_),s.appendChild(I),_.appendChild(T),I.appendChild(E)};t.addEventListener("click",k);const S=()=>{e.contains(n)&&(u.value="",d.value="",p.value="",e.removeChild(n))};return _.addEventListener("click",(e=>{e.preventDefault(),""!==u.value&&r.newTask(),S()})),I.addEventListener("click",(e=>{e.preventDefault(),S()})),{removeInputTask:S,appendTask:k,date:p,notes:d,title:u,priorityTitle:g}})(),o=((()=>{const e=document.querySelector(".projects-list"),n=document.createElement("div");n.classList.add("input-project");const i=document.createElement("div");i.classList.add("input-container");const r=document.createElement("input");r.id="project",r.name="project",r.type="text";const s=document.createElement("div");s.classList.add("input-project-right");const o=document.createElement("div");o.id="add-project-button";const a=document.createElement("img");a.src="../src/images/check.svg";const c=document.createElement("div");c.id="cancel-add-project";const l=document.createElement("img");l.src="../src/images/delete.svg",document.getElementById("new-project").addEventListener("click",(()=>{e.appendChild(n),n.appendChild(i),n.appendChild(s),i.appendChild(r),s.appendChild(o),s.appendChild(c),o.appendChild(a),c.appendChild(l)}));const h=()=>{e.contains(n)&&(r.value="",e.removeChild(n))};o.addEventListener("click",(e=>{e.preventDefault(),""!==r.value&&t.addProjectToArray(r.value),h()})),c.addEventListener("click",(e=>{e.preventDefault(),h()}))})(),function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}),a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){const r=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,l=r>>2,h=(3&r)<<4|o>>4;let u=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(u=64)),i.push(n[l],n[h],n[u],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){const r=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==r||null==s||null==o||null==a)throw Error();const c=r<<2|s>>4;if(i.push(c),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){return function(e){const t=o(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"object"==typeof indexedDB}function d(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}const p=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e=process.env.__FIREBASE_DEFAULTS__,t=process.env.__FIREBASE_DEFAULTS_PATH__;if(e)return t&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(e);if(t)try{return n(163)(t)}catch(e){console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${t}`)}})()||(()=>{if("undefined"==typeof document)return;const e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),t=e&&l(e[1]);return t&&JSON.parse(t)})(),f=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}class m extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(y,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new m(i,o,n)}}const y=/\{\$([^}]+)}/g;function b(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(w(n)&&w(s)){if(!b(n,s))return!1}else if(n!==s)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function w(e){return null!==e&&"object"==typeof e}function _(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function T(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function I(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class E{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=k),void 0===i.error&&(i.error=k),void 0===i.complete&&(i.complete=k);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function k(){}function S(e){return e&&e._delegate?e._delegate:e}class C{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const A="[DEFAULT]";class R{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new g;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:A})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===A?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var i;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:A:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const P=[];var N,D;(D=N||(N={}))[D.DEBUG=0]="DEBUG",D[D.VERBOSE=1]="VERBOSE",D[D.INFO=2]="INFO",D[D.WARN=3]="WARN",D[D.ERROR=4]="ERROR",D[D.SILENT=5]="SILENT";const L={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},M=N.INFO,j={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},U=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=j[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class x{constructor(e){this.name=e,this._logLevel=M,this._logHandler=U,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in N))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...e),this._logHandler(this,N.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...e),this._logHandler(this,N.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,N.INFO,...e),this._logHandler(this,N.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,N.WARN,...e),this._logHandler(this,N.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...e),this._logHandler(this,N.ERROR,...e)}}let F,B;const H=new WeakMap,$=new WeakMap,V=new WeakMap,q=new WeakMap,z=new WeakMap;let K={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $.get(e);if("objectStoreNames"===t)return e.objectStoreNames||V.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return G(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function W(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(J(this),e),G(H.get(this))}:function(...e){return G(t.apply(J(this),e))}:function(e,...n){const i=t.call(J(this),e,...n);return V.set(i,e.sort?e.sort():[e]),G(i)}:(e instanceof IDBTransaction&&function(e){if($.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));$.set(e,t)}(e),n=e,(F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,K):e);var t,n}function G(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(G(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&H.set(t,e)})).catch((()=>{})),z.set(t,e),t}(e);if(q.has(e))return q.get(e);const t=W(e);return t!==e&&(q.set(e,t),z.set(t,e)),t}const J=e=>z.get(e);function X(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=G(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(G(o.result),e.oldVersion,e.newVersion,G(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}function Y(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),G(n).then((()=>{}))}const Q=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],ee=new Map;function te(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(ee.get(t))return ee.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Z.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Q.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),r&&s.done]))[0]};return ee.set(t,s),s}var ne;ne=K,K={...ne,get:(e,t,n)=>te(e,t)||ne.get(e,t,n),has:(e,t)=>!!te(e,t)||ne.has(e,t)};class ie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const re="@firebase/app",se="0.8.0",oe=new x("@firebase/app"),ae="[DEFAULT]",ce={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},le=new Map,he=new Map;function ue(e,t){try{e.container.addComponent(t)}catch(n){oe.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function de(e){const t=e.name;if(he.has(t))return oe.debug(`There were multiple attempts to register component ${t}.`),!1;he.set(t,e);for(const t of le.values())ue(t,e);return!0}function pe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const fe=new v("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ge{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new C("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fe.create("app-deleted",{appName:this._name})}}const me="9.11.0";function ve(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:ae,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw fe.create("bad-app-name",{appName:String(r)});if(n||(n=(()=>{var e;return null===(e=p())||void 0===e?void 0:e.config})()),!n)throw fe.create("no-options");const s=le.get(r);if(s){if(b(n,s.options)&&b(i,s.config))return s;throw fe.create("duplicate-app",{appName:r})}const o=new O(r);for(const e of he.values())o.addComponent(e);const a=new ge(n,i,o);return le.set(r,a),a}function ye(e,t,n){var i;let r=null!==(i=ce[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${r}" with version "${t}":`];return s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void oe.warn(e.join(" "))}de(new C(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}const be="firebase-heartbeat-store";let we=null;function _e(){return we||(we=X("firebase-heartbeat-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(be)}}).catch((e=>{throw fe.create("idb-open",{originalErrorMessage:e.message})}))),we}async function Te(e,t){var n;try{const n=(await _e()).transaction(be,"readwrite"),i=n.objectStore(be);return await i.put(t,Ie(e)),n.done}catch(e){if(e instanceof m)oe.warn(e.message);else{const t=fe.create("idb-set",{originalErrorMessage:null===(n=e)||void 0===n?void 0:n.message});oe.warn(t.message)}}}function Ie(e){return`${e.name}!${e.options.appId}`}class Ee{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Se(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ke();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ke(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),Ce(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ce(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=c(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ke(){return(new Date).toISOString().substring(0,10)}class Se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!u()&&d().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){var t;try{return(await _e()).transaction(be).objectStore(be).get(Ie(e))}catch(e){if(e instanceof m)oe.warn(e.message);else{const n=fe.create("idb-get",{originalErrorMessage:null===(t=e)||void 0===t?void 0:t.message});oe.warn(n.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Te(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Te(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ce(e){return c(JSON.stringify({version:2,heartbeats:e})).length}function Ae(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}de(new C("platform-logger",(e=>new ie(e)),"PRIVATE")),de(new C("heartbeat",(e=>new Ee(e)),"PRIVATE")),ye(re,se,""),ye(re,se,"esm2017"),ye("fire-js",""),ye("firebase","9.11.0","app"),Object.create,Object.create;const Re=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new v("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new x("@firebase/auth");function Ne(e,...t){Pe.logLevel<=N.ERROR&&Pe.error(`Auth (9.11.0): ${e}`,...t)}function De(e,...t){throw je(e,...t)}function Le(e,...t){return je(e,...t)}function Me(e,t,n){const i=Object.assign(Object.assign({},Re()),{[t]:n});return new v("auth","Firebase",i).create(t,{appName:e.name})}function je(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Oe.create(e,...t)}function Ue(e,t,...n){if(!e)throw je(t,...n)}function xe(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ne(t),new Error(t)}function Fe(e,t){e||xe(t)}const Be=new Map;function He(e){Fe(e instanceof Function,"Expected a class definition");let t=Be.get(e);return t?(Fe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Be.set(e,t),t)}function $e(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ve(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function qe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Ve()||"https:"===Ve()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class ze{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fe(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return qe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ke(e,t){Fe(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class We{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Je=new ze(3e4,6e4);function Xe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ye(e,t,n,i,r={}){return Qe(e,r,(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=_(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),We.fetch()(et(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Qe(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ge),t);try{const t=new tt(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw nt(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw nt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw nt(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Me(e,a,o);De(e,a)}}catch(t){if(t instanceof m)throw t;De(e,"network-request-failed")}}async function Ze(e,t,n,i,r={}){const s=await Ye(e,t,n,i,r);return"mfaPendingCredential"in s&&De(e,"multi-factor-auth-required",{_serverResponse:s}),s}function et(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?Ke(e.config,r):`${e.config.apiScheme}://${r}`}class tt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Le(this.auth,"network-request-failed"))),Je.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function nt(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Le(e,t,i);return r.customData._tokenResponse=n,r}function it(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function rt(e){return 1e3*Number(e)}function st(e){var t;const[n,i,r]=e.split(".");if(void 0===n||void 0===i||void 0===r)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const e=l(i);return e?JSON.parse(e):(Ne("Failed to decode base64 JWT payload"),null)}catch(e){return Ne("Caught error parsing JWT payload as JSON",null===(t=e)||void 0===t?void 0:t.toString()),null}}async function ot(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof m&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class at{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===(e=t)||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class ct{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=it(this.lastLoginAt),this.creationTime=it(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lt(e){var t;const n=e.auth,i=await e.getIdToken(),r=await ot(e,async function(e,t){return Ye(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Ue(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Ae(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const h=e.isAnonymous,u=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!h&&u,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ct(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}class ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(void 0!==e.idToken,"internal-error"),Ue(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=st(e);return Ue(t,"internal-error"),Ue(void 0!==t.exp,"internal-error"),Ue(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Qe(e,{},(async()=>{const n=_({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=et(e,i,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new ht;return n&&(Ue("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(Ue("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(Ue("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ht,this.toJSON())}_performRefresh(){return xe("not implemented")}}function ut(e,t){Ue("string"==typeof e||void 0===e,"internal-error",{appName:t})}class dt{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Ae(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ct(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await ot(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=S(e),i=await n.getIdToken(t),r=st(i);Ue(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:it(rt(r.auth_time)),issuedAtTime:it(rt(r.iat)),expirationTime:it(rt(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=S(e);await lt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new dt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await lt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ot(this,async function(e,t){return Ye(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,c,l;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:T}=t;Ue(y&&T,e,"internal-error");const I=ht.fromJSON(this.name,T);Ue("string"==typeof y,e,"internal-error"),ut(h,e.name),ut(u,e.name),Ue("boolean"==typeof b,e,"internal-error"),Ue("boolean"==typeof w,e,"internal-error"),ut(d,e.name),ut(p,e.name),ut(f,e.name),ut(g,e.name),ut(m,e.name),ut(v,e.name);const E=new dt({uid:y,auth:e,email:u,emailVerified:b,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:I,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const i=new ht;i.updateFromServerResponse(t);const r=new dt({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await lt(r),r}}class pt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pt.type="NONE";const ft=pt;function gt(e,t,n){return`firebase:${e}:${t}:${n}`}class mt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=gt(this.userKey,i.apiKey,r),this.fullPersistenceKey=gt("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new mt(He(ft),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||He(ft);const s=gt(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const i=dt._fromJSON(e,t);n!==r&&(o=i),r=n;break}}catch(e){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new mt(r,e,n)):new mt(r,e,n)}}function vt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_t(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(It(t))return"Blackberry";if(Et(t))return"Webos";if(bt(t))return"Safari";if((t.includes("chrome/")||wt(t))&&!t.includes("edge/"))return"Chrome";if(Tt(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function yt(e=h()){return/firefox\//i.test(e)}function bt(e=h()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wt(e=h()){return/crios\//i.test(e)}function _t(e=h()){return/iemobile/i.test(e)}function Tt(e=h()){return/android/i.test(e)}function It(e=h()){return/blackberry/i.test(e)}function Et(e=h()){return/webos/i.test(e)}function kt(e=h()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function St(e=h()){return kt(e)||Tt(e)||Et(e)||It(e)||/windows phone/i.test(e)||_t(e)}function Ct(e,t=[]){let n;switch(e){case"Browser":n=vt(h());break;case"Worker":n=`${vt(h())}-${e}`;break;default:n=e}return`${n}/JsCore/9.11.0/${t.length?t.join(","):"FirebaseCore-web"}`}class At{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(e){i(e)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const n=[];try{for(const t of this.queue)await t(e),t.onAbort&&n.push(t.onAbort)}catch(e){n.reverse();for(const e of n)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(t=e)||void 0===t?void 0:t.message})}}}class Rt{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.beforeStateQueue=new At(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=He(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await mt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null==o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){var t;try{await lt(e)}catch(e){if("auth/network-request-failed"!==(null===(t=e)||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?S(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(He(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new v("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&He(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await mt.create(this,[He(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ct(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Ot(e){return S(e)}class Pt{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new E(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Lt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xe("not implemented")}_getIdTokenResponse(e){return xe("not implemented")}_linkToIdToken(e,t){return xe("not implemented")}_getReauthenticationResolver(e){return xe("not implemented")}}class Mt extends Lt{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Mt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Mt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Ze(e,"POST","/v1/accounts:signInWithPassword",Xe(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ze(e,"POST","/v1/accounts:signInWithEmailLink",Xe(e,t))}(e,{email:this._email,oobCode:this._password});default:De(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Ye(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ze(e,"POST","/v1/accounts:signInWithEmailLink",Xe(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:De(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jt(e,t){return Ze(e,"POST","/v1/accounts:signInWithIdp",Xe(e,t))}class Ut extends Lt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ut(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):De("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Ae(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Ut(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return jt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,jt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_(t)}return e}}const xt={USER_NOT_FOUND:"user-not-found"};class Ft extends Lt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ft({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ft({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ze(e,"POST","/v1/accounts:signInWithPhoneNumber",Xe(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ze(e,"POST","/v1/accounts:signInWithPhoneNumber",Xe(e,t));if(n.temporaryProof)throw nt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ze(e,"POST","/v1/accounts:signInWithPhoneNumber",Xe(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),xt)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Ft({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Bt{constructor(e){var t,n,i,r,s,o;const a=T(I(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Ue(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=T(I(e)).link,n=t?T(I(t)).deep_link_id:null,i=T(I(e)).deep_link_id;return(i?T(I(i)).link:null)||i||n||t||e}(e);try{return new Bt(t)}catch(e){return null}}}class Ht{constructor(){this.providerId=Ht.PROVIDER_ID}static credential(e,t){return Mt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Bt.parseLink(t);return Ue(n,"argument-error"),Mt._fromEmailAndCode(e,n.code,n.tenantId)}}Ht.PROVIDER_ID="password",Ht.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ht.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $t{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vt extends $t{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qt extends Vt{constructor(){super("facebook.com")}static credential(e){return Ut._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qt.credentialFromTaggedObject(e)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qt.credential(e.oauthAccessToken)}catch(e){return null}}}qt.FACEBOOK_SIGN_IN_METHOD="facebook.com",qt.PROVIDER_ID="facebook.com";class zt extends Vt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ut._fromParams({providerId:zt.PROVIDER_ID,signInMethod:zt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zt.credentialFromTaggedObject(e)}static credentialFromError(e){return zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return zt.credential(t,n)}catch(e){return null}}}zt.GOOGLE_SIGN_IN_METHOD="google.com",zt.PROVIDER_ID="google.com";class Kt extends Vt{constructor(){super("github.com")}static credential(e){return Ut._fromParams({providerId:Kt.PROVIDER_ID,signInMethod:Kt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kt.credentialFromTaggedObject(e)}static credentialFromError(e){return Kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Kt.credential(e.oauthAccessToken)}catch(e){return null}}}Kt.GITHUB_SIGN_IN_METHOD="github.com",Kt.PROVIDER_ID="github.com";class Wt extends Vt{constructor(){super("twitter.com")}static credential(e,t){return Ut._fromParams({providerId:Wt.PROVIDER_ID,signInMethod:Wt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wt.credentialFromTaggedObject(e)}static credentialFromError(e){return Wt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Wt.credential(t,n)}catch(e){return null}}}Wt.TWITTER_SIGN_IN_METHOD="twitter.com",Wt.PROVIDER_ID="twitter.com";class Gt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await dt._fromIdTokenResponse(e,n,i),s=Jt(n);return new Gt({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Jt(n);return new Gt({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Jt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Xt extends m{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xt.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Xt(e,t,n,i)}}function Yt(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Xt._fromErrorAndOperation(e,n,t,i);throw n}))}new WeakMap;const Qt="__sak";class Zt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qt,"1"),this.storage.removeItem(Qt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class en extends Zt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=h();return bt(e)||kt(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=St(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);!function(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||r===e.newValue||e.newValue===e.oldValue?i():setTimeout(i,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}en.type="LOCAL";const tn=en;class nn extends Zt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nn.type="SESSION";const rn=nn;class sn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new sn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function on(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}sn.receivers=[];class an{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const c=on("",20);i.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(l),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function cn(){return window}function ln(){return void 0!==cn().WorkerGlobalScope&&"function"==typeof cn().importScripts}const hn="firebaseLocalStorageDb",un="firebaseLocalStorage",dn="fbase_key";class pn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function fn(e,t){return e.transaction([un],t?"readwrite":"readonly").objectStore(un)}function gn(){const e=indexedDB.open(hn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(un,{keyPath:dn})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(un)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(hn);return new pn(e).toPromise()}(),t(await gn()))}))}))}async function mn(e,t,n){const i=fn(e,!0).put({[dn]:t,value:n});return new pn(i).toPromise()}function vn(e,t){const n=fn(e,!0).delete(t);return new pn(n).toPromise()}class yn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await gn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ln()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sn._getInstance(ln()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new an(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gn();return await mn(e,Qt,"1"),await vn(e,Qt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>mn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=fn(e,!1).get(t),i=await new pn(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>vn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=fn(e,!1).getAll();return new pn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yn.type="LOCAL";const bn=yn;function wn(e){return`__${e}${Math.floor(1e6*Math.random())}`}wn("rcb"),new ze(3e4,6e4);class _n{constructor(e){this.providerId=_n.PROVIDER_ID,this.auth=Ot(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var i;const r=await n.verify();try{let s;if(Ue("string"==typeof r,e,"argument-error"),Ue("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ue("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ye(e,"POST","/v2/accounts/mfaEnrollment:start",Xe(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Ue("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;Ue(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ye(e,"POST","/v2/accounts/mfaSignIn:start",Xe(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ye(e,"POST","/v1/accounts:sendVerificationCode",Xe(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}(this.auth,e,S(t))}static credential(e,t){return Ft._fromVerification(e,t)}static credentialFromResult(e){const t=e;return _n.credentialFromTaggedObject(t)}static credentialFromError(e){return _n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ft._fromTokenResponse(t,n):null}}function Tn(e,t){return t?He(t):(Ue(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_n.PROVIDER_ID="phone",_n.PHONE_SIGN_IN_METHOD="phone";class In extends Lt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function En(e){return async function(e,t,n=!1){const i="signIn",r=await Yt(e,i,t),s=await Gt._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}(e.auth,new In(e),e.bypassAuthState)}function kn(e){const{auth:t,user:n}=e;return Ue(n,t,"internal-error"),async function(e,t,n=!1){var i;const{auth:r}=e,s="reauthenticate";try{const i=await ot(e,Yt(r,s,t,e),n);Ue(i.idToken,r,"internal-error");const o=st(i.idToken);Ue(o,r,"internal-error");const{sub:a}=o;return Ue(e.uid===a,r,"user-mismatch"),Gt._forOperation(e,s,i)}catch(e){throw"auth/user-not-found"===(null===(i=e)||void 0===i?void 0:i.code)&&De(r,"user-mismatch"),e}}(n,new In(e),e.bypassAuthState)}async function Sn(e){const{auth:t,user:n}=e;return Ue(n,t,"internal-error"),async function(e,t,n=!1){const i=await ot(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gt._forOperation(e,"link",i)}(n,new In(e),e.bypassAuthState)}class Cn{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return En;case"linkViaPopup":case"linkViaRedirect":return Sn;case"reauthViaPopup":case"reauthViaRedirect":return kn;default:De(this.auth,"internal-error")}}resolve(e){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const An=new ze(2e3,1e4);class Rn extends Cn{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Rn.currentPopupAction&&Rn.currentPopupAction.cancel(),Rn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Fe(1===this.filter.length,"Popup operations only handle one event");const e=on();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Le(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,An.get())};e()}}Rn.currentPopupAction=null;const On=new Map;class Pn extends Cn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=On.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return gt("pendingRedirect",e.config.apiKey,e.name)}(t),i=function(e){return He(e._redirectPersistence)}(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}On.set(this.auth._key(),e)}return this.bypassAuthState||On.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Nn(e,t){On.set(e._key(),t)}async function Dn(e,t,n=!1){const i=Ot(e),r=Tn(i,t),s=new Pn(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class Ln{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jn(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Le(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mn(e))}saveEventToCache(e){this.cachedEventUids.add(Mn(e)),this.lastProcessedEventTime=Date.now()}}function Mn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function jn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Un=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xn=/^https?/;function Fn(e){const t=$e(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!xn.test(n))return!1;if(Un.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Bn=new ze(3e4,6e4);function Hn(){const e=cn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let $n=null;function Vn(e){return $n=$n||function(e){return new Promise(((t,n)=>{var i,r,s,o;function a(){Hn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hn(),n(Le(e,"network-request-failed"))},timeout:Bn.get()})}if(null===(r=null===(i=cn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=cn().gapi)||void 0===s?void 0:s.load)){const t=wn("iframefcb");return cn()[t]=()=>{gapi.load?a():n(Le(e,"network-request-failed"))},(o=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");n.setAttribute("src",o),n.onload=e,n.onerror=e=>{const n=Le("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))).catch((e=>n(e)))}a()}})).catch((e=>{throw $n=null,e}))}(e),$n}const qn=new ze(5e3,15e3),zn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wn(e){const t=e.config;Ue(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ke(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:me},r=Kn.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${_(i).slice(1)}`}const Gn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Xn(e,t,n,i,r,s){Ue(e.config.authDomain,e,"auth-domain-config-required"),Ue(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:me,eventId:r};if(t instanceof $t){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Vt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?Ke(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${_(a).slice(1)}`}const Yn="webStorageSupport",Qn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rn,this._completeRedirectFn=Dn,this._overrideRedirectResult=Nn}async _openPopup(e,t,n,i){var r;return Fe(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Gn),{width:i.toString(),height:r.toString(),top:s,left:o}),l=h().toLowerCase();n&&(a=wt(l)?"_blank":n),yt(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=h()){var t;return kt(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new Jn(null);const d=window.open(t||"",a,u);Ue(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Jn(d)}(e,Xn(e,t,n,$e(),i),on())}async _openRedirect(e,t,n,i){var r;return await this._originValidation(e),r=Xn(e,t,n,$e(),i),cn().location.href=r,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Fe(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Vn(e),n=cn().gapi;return Ue(n,e,"internal-error"),t.open({where:document.body,url:Wn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zn,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Le(e,"network-request-failed"),s=cn().setTimeout((()=>{i(r)}),qn.get());function o(){cn().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}(e),n=new Ln(e);return t.register("authEvent",(t=>(Ue(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yn,{type:Yn},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&t(!!r),De(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Ye(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Fn(e))return}catch(e){}De(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return St()||bt()||kt()}};var Zn="@firebase/auth",ei="0.20.8";class ti{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ni=f("authIdTokenMaxAge")||300;let ii=null;function ri(e=function(e="[DEFAULT]"){const t=le.get(e);if(!t&&e===ae)return ve();if(!t)throw fe.create("no-app",{appName:e});return t}()){const t=pe(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=pe(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(b(n.getOptions(),null!=t?t:{}))return e;De(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Qn,persistence:[bn,tn,rn]}),i=f("authTokenSyncURL");if(i){const e=(r=i,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ni)return;const i=null==t?void 0:t.token;ii!==i&&(ii=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});!function(e,t,n){S(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,i,r){S(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var r;const s=(e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n.auth})();return s&&function(e,t,n){const i=Ot(e);Ue(i._canInitEmulator,i,"emulator-config-failed"),Ue(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=Nt(t),{host:o,port:a}=function(e){const t=Nt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Dt(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Dt(t)}}}(t),c=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${s}`),n}var si;si="Browser",de(new C("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:r,authDomain:s}=n.options;return((e,n)=>{Ue(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Ue(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const i={apiKey:r,authDomain:s,clientPlatform:si,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ct(si)},o=new Rt(e,n,i);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(He);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),de(new C("auth-internal",(e=>(e=>new ti(e))(Ot(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ye(Zn,ei,void 0),ye(Zn,ei,"esm2017");var oi,ai="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ci={},li=li||{},hi=ai||self;function ui(){}function di(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fi="closure_uid_"+(1e9*Math.random()>>>0),gi=0;function mi(e,t,n){return e.call.apply(e.bind,arguments)}function vi(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yi(e,t,n){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mi:vi).apply(null,arguments)}function bi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wi(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function _i(){this.s=this.s,this.o=this.o}var Ti={};_i.prototype.s=!1,_i.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,fi)&&e[fi]||(e[fi]=++gi)}(this);delete Ti[e]}},_i.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ii=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ei(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function ki(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(di(n)){const t=e.length||0,i=n.length||0;e.length=t+i;for(let r=0;r<i;r++)e[t+r]=n[r]}else e.push(n)}}function Si(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Si.prototype.h=function(){this.defaultPrevented=!0};var Ci=function(){if(!hi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hi.addEventListener("test",ui,t),hi.removeEventListener("test",ui,t)}catch(e){}return e}();function Ai(e){return/^[\s\xa0]*$/.test(e)}var Ri=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Oi(e,t){return e<t?-1:e>t?1:0}function Pi(){var e=hi.navigator;return e&&(e=e.userAgent)?e:""}function Ni(e){return-1!=Pi().indexOf(e)}function Di(e){return Di[" "](e),e}Di[" "]=ui;var Li,Mi,ji=Ni("Opera"),Ui=Ni("Trident")||Ni("MSIE"),xi=Ni("Edge"),Fi=xi||Ui,Bi=Ni("Gecko")&&!(-1!=Pi().toLowerCase().indexOf("webkit")&&!Ni("Edge"))&&!(Ni("Trident")||Ni("MSIE"))&&!Ni("Edge"),Hi=-1!=Pi().toLowerCase().indexOf("webkit")&&!Ni("Edge");function $i(){var e=hi.document;return e?e.documentMode:void 0}e:{var Vi="",qi=(Mi=Pi(),Bi?/rv:([^\);]+)(\)|;)/.exec(Mi):xi?/Edge\/([\d\.]+)/.exec(Mi):Ui?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Mi):Hi?/WebKit\/(\S+)/.exec(Mi):ji?/(?:Version)[ \/]?(\S+)/.exec(Mi):void 0);if(qi&&(Vi=qi?qi[1]:""),Ui){var zi=$i();if(null!=zi&&zi>parseFloat(Vi)){Li=String(zi);break e}}Li=Vi}var Ki,Wi={};function Gi(){return function(e){var t=Wi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let e=0;const t=Ri(String(Li)).split("."),n=Ri("9").split("."),i=Math.max(t.length,n.length);for(let o=0;0==e&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=Oi(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Oi(0==r[2].length,0==s[2].length)||Oi(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}()}()}hi.document&&Ui?Ki=$i()||parseInt(Li,10)||void 0:Ki=void 0;var Ji=Ki;function Xi(e,t){if(Si.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bi){e:{try{Di(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Yi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xi.X.h.call(this)}}wi(Xi,Si);var Yi={2:"touch",3:"pen",4:"mouse"};Xi.prototype.h=function(){Xi.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qi="closure_listenable_"+(1e6*Math.random()|0),Zi=0;function er(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++Zi,this.ba=this.ea=!1}function tr(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function nr(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function ir(e){const t={};for(const n in e)t[n]=e[n];return t}const rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sr(e,t){let n,i;for(let t=1;t<arguments.length;t++){for(n in i=arguments[t],i)e[n]=i[n];for(let t=0;t<rr.length;t++)n=rr[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function or(e){this.src=e,this.g={},this.h=0}function ar(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Ii(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(tr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cr(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==i)return r}return-1}or.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=cr(e,t,i,r);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new er(t,this.src,s,!!i,r)).ea=n,e.push(t)),t};var lr="closure_lm_"+(1e6*Math.random()|0),hr={};function ur(e,t,n,i,r){if(i&&i.once)return pr(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ur(e,t[s],n,i,r);return null}return n=wr(n),e&&e[Qi]?e.N(t,n,pi(i)?!!i.capture:!!i,r):dr(e,t,n,!1,i,r)}function dr(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=pi(r)?!!r.capture:!!r,a=yr(e);if(a||(e[lr]=a=new or(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){const e=vr;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Ci||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(mr(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function pr(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pr(e,t[s],n,i,r);return null}return n=wr(n),e&&e[Qi]?e.O(t,n,pi(i)?!!i.capture:!!i,r):dr(e,t,n,!0,i,r)}function fr(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)fr(e,t[s],n,i,r);else i=pi(i)?!!i.capture:!!i,n=wr(n),e&&e[Qi]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=cr(s=e.g[t],n,i,r))&&(tr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=yr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cr(t,n,i,r)),(n=-1<e?t[e]:null)&&gr(n))}function gr(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Qi])ar(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(mr(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=yr(t))?(ar(n,e),0==n.h&&(n.src=null,t[lr]=null)):tr(e)}}}function mr(e){return e in hr?hr[e]:hr[e]="on"+e}function vr(e,t){if(e.ba)e=!0;else{t=new Xi(t,this);var n=e.listener,i=e.ha||e.src;e.ea&&gr(e),e=n.call(i,t)}return e}function yr(e){return(e=e[lr])instanceof or?e:null}var br="__closure_events_fn_"+(1e9*Math.random()>>>0);function wr(e){return"function"==typeof e?e:(e[br]||(e[br]=function(t){return e.handleEvent(t)}),e[br])}function _r(){_i.call(this),this.i=new or(this),this.P=this,this.I=null}function Tr(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"==typeof t)t=new Si(t,e);else if(t instanceof Si)t.target=t.target||e;else{var r=t;sr(t=new Si(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Ir(o,i,!0,t)&&r}if(r=Ir(o=t.g=e,i,!0,t)&&r,r=Ir(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Ir(o=t.g=n[s],i,!1,t)&&r}function Ir(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&ar(e.i,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}wi(_r,_i),_r.prototype[Qi]=!0,_r.prototype.removeEventListener=function(e,t,n,i){fr(this,e,t,n,i)},_r.prototype.M=function(){if(_r.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)tr(n[i]);delete t.g[e],t.h--}}this.I=null},_r.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},_r.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Er=hi.JSON.stringify;function kr(){var e=Nr;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Sr,Cr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ar),(e=>e.reset()));class Ar{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Rr(e){hi.setTimeout((()=>{throw e}),0)}function Or(e,t){Sr||function(){var e=hi.Promise.resolve(void 0);Sr=function(){e.then(Dr)}}(),Pr||(Sr(),Pr=!0),Nr.add(e,t)}var Pr=!1,Nr=new class{constructor(){this.h=this.g=null}add(e,t){const n=Cr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Dr(){for(var e;e=kr();){try{e.h.call(e.g)}catch(e){Rr(e)}var t=Cr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pr=!1}function Lr(e,t){_r.call(this),this.h=e||1,this.g=t||hi,this.j=yi(this.kb,this),this.l=Date.now()}function Mr(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function jr(e,t,n){if("function"==typeof e)n&&(e=yi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yi(e.handleEvent,e)}return 2147483647<Number(t)?-1:hi.setTimeout(e,t||0)}function Ur(e){e.g=jr((()=>{e.g=null,e.i&&(e.i=!1,Ur(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}wi(Lr,_r),(oi=Lr.prototype).ca=!1,oi.R=null,oi.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tr(this,"tick"),this.ca&&(Mr(this),this.start()))}},oi.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oi.M=function(){Lr.X.M.call(this),Mr(this),delete this.g};class xr extends _i{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ur(this)}M(){super.M(),this.g&&(hi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(e){_i.call(this),this.h=e,this.g={}}wi(Fr,_i);var Br=[];function Hr(e,t,n,i){Array.isArray(n)||(n&&(Br[0]=n.toString()),n=Br);for(var r=0;r<n.length;r++){var s=ur(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function $r(e){nr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gr(e)}),e),e.g={}}function Vr(){this.g=!0}function qr(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Er(n)}catch(e){return t}}(e,n)+(i?" "+i:"")}))}Fr.prototype.M=function(){Fr.X.M.call(this),$r(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vr.prototype.Aa=function(){this.g=!1},Vr.prototype.info=function(){};var zr={},Kr=null;function Wr(){return Kr=Kr||new _r}function Gr(e){Si.call(this,zr.Oa,e)}function Jr(e){const t=Wr();Tr(t,new Gr(t,e))}function Xr(e,t){Si.call(this,zr.STAT_EVENT,e),this.stat=t}function Yr(e){const t=Wr();Tr(t,new Xr(t,e))}function Qr(e,t){Si.call(this,zr.Pa,e),this.size=t}function Zr(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return hi.setTimeout((function(){e()}),t)}zr.Oa="serverreachability",wi(Gr,Si),zr.STAT_EVENT="statevent",wi(Xr,Si),zr.Pa="timingevent",wi(Qr,Si);var es={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},ts={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ns(){}function is(e){return e.h||(e.h=e.i())}function rs(){}ns.prototype.h=null;var ss,os={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function as(){Si.call(this,"d")}function cs(){Si.call(this,"c")}function ls(){}function hs(e,t,n,i){this.l=e,this.j=t,this.m=n,this.U=i||1,this.S=new Fr(this),this.O=ds,e=Fi?125:void 0,this.T=new Lr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new us}function us(){this.i=null,this.g="",this.h=!1}wi(as,Si),wi(cs,Si),wi(ls,ns),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},ss=new ls;var ds=45e3,ps={},fs={};function gs(e,t,n){e.K=1,e.v=Ls(Rs(t)),e.s=n,e.P=!0,ms(e,null)}function ms(e,t){e.F=Date.now(),ws(e),e.A=Rs(e.v);var n=e.A,i=e.U;Array.isArray(i)||(i=[String(i)]),Ws(n.i,"t",i),e.C=0,n=e.l.H,e.h=new us,e.g=Wo(e.l,n?t:null,!e.s),0<e.N&&(e.L=new xr(yi(e.Ka,e,e.g),e.N)),Hr(e.S,e.g,"readystatechange",e.hb),t=e.H?ir(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Jr(1),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var u=h.split("_");o=2<=u.length&&"type"==u[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function vs(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function ys(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=bs(e,n),i==fs){4==t&&(e.o=4,Yr(14),r=!1),qr(e.j,e.m,null,"[Incomplete Response]");break}if(i==ps){e.o=4,Yr(15),qr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}qr(e.j,e.m,i,null),ks(e,i)}vs(e)&&i!=fs&&i!=ps&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Yr(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fo(t),t.K=!0,Yr(11))):(qr(e.j,e.m,n,"[Invalid Chunked Response]"),Es(e),Is(e))}function bs(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?fs:(n=Number(t.substring(n,i)),isNaN(n)?ps:(i+=1)+n>t.length?fs:(t=t.substr(i,n),e.C=i+n,t))}function ws(e){e.V=Date.now()+e.O,_s(e,e.O)}function _s(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zr(yi(e.fb,e),t)}function Ts(e){e.B&&(hi.clearTimeout(e.B),e.B=null)}function Is(e){0==e.l.G||e.I||$o(e.l,e)}function Es(e){Ts(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Mr(e.T),$r(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ks(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Zs(n.h,e)))if(!e.J&&Zs(n.h,e)&&3==n.G){try{var i=n.Fa.g.parse(t)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ho(n),Po(n)}xo(n),Yr(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=Zr(yi(n.bb,n),6e3));if(1>=Qs(n.h)&&n.ja){try{n.ja()}catch(e){}n.ja=void 0}}else qo(n,11)}else if((e.J||n.g==e)&&Ho(n),!Ai(t))for(r=n.Fa.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.I=l[1],n.ka=l[2];const t=l[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const r=l[4];null!=r&&(n.Ca=r,n.j.info("SVER="+n.Ca));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(i=1.5*h,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eo(s,s.h),s.h=null))}if(i.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.za=e,Ds(i.F,i.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=e;if((i=n).sa=Ko(i,i.H?i.ka:null,i.V),o.J){to(i.h,o);var a=o,c=i.J;c&&a.setTimeout(c),a.B&&(Ts(a),ws(a)),i.g=o}else Uo(i);0<n.i.length&&Do(n)}else"stop"!=l[0]&&"close"!=l[0]||qo(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?qo(n,7):Oo(n):"noop"!=l[0]&&n.l&&n.l.wa(l),n.A=0)}Jr(4)}catch(e){}}function Ss(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(di(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(di(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(di(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}(oi=hs.prototype).setTimeout=function(e){this.O=e},oi.hb=function(e){e=e.target;const t=this.L;t&&3==Eo(e)?t.l():this.Ka(e)},oi.Ka=function(e){try{if(e==this.g)e:{const h=Eo(this.g);var t=this.g.Ea();const u=this.g.aa();if(!(3>h)&&(3!=h||Fi||this.g&&(this.h.h||this.g.fa()||ko(this.g)))){this.I||4!=h||7==t||Jr(8==t||0>=u?3:2),Ts(this);var n=this.g.aa();this.Y=n;t:if(vs(this)){var i=ko(this.g);e="";var r=i.length,s=4==Eo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Es(this),Is(this);var o="";break t}this.h.i=new hi.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ai(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Yr(12),Es(this),Is(this);break e}qr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ks(this,n)}this.P?(ys(this,h,o),Fi&&this.i&&3==h&&(Hr(this.S,this.T,"tick",this.gb),this.T.start())):(qr(this.j,this.m,o,null),ks(this,o)),4==h&&Es(this),this.i&&!this.I&&(4==h?$o(this.l,this):(this.i=!1,ws(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Yr(12)):(this.o=0,Yr(13)),Es(this),Is(this)}}}catch(e){}},oi.gb=function(){if(this.g){var e=Eo(this.g),t=this.g.fa();this.C<t.length&&(Ts(this),ys(this,e,t),this.i&&4!=e&&ws(this))}},oi.cancel=function(){this.I=!0,Es(this)},oi.fb=function(){this.B=null;const e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Jr(3),Yr(17)),Es(this),this.o=2,Is(this)):_s(this,this.V-e)};var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof As){this.h=void 0!==t?t:e.h,Os(this,e.j),this.s=e.s,this.g=e.g,Ps(this,e.m),this.l=e.l,t=e.i;var n=new Vs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ns(this,n),this.o=e.o}else e&&(n=String(e).match(Cs))?(this.h=!!t,Os(this,n[1]||"",!0),this.s=Ms(n[2]||""),this.g=Ms(n[3]||"",!0),Ps(this,n[4]),this.l=Ms(n[5]||"",!0),Ns(this,n[6]||"",!0),this.o=Ms(n[7]||"")):(this.h=!!t,this.i=new Vs(null,this.h))}function Rs(e){return new As(e)}function Os(e,t,n){e.j=n?Ms(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ps(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ns(e,t,n){t instanceof Vs?(e.i=t,function(e,t){t&&!e.j&&(qs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zs(this,t),Ws(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=js(t,Hs)),e.i=new Vs(t,e.h))}function Ds(e,t,n){e.i.set(t,n)}function Ls(e){return Ds(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ms(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function js(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Us),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Us(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}As.prototype.toString=function(){var e=[],t=this.j;t&&e.push(js(t,xs,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(js(t,xs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(js(n,"/"==n.charAt(0)?Bs:Fs,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",js(n,$s)),e.join("")};var xs=/[#\/\?@]/g,Fs=/[#\?:]/g,Bs=/[#\?]/g,Hs=/[#\?@]/g,$s=/#/g;function Vs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qs(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zs(e,t){qs(e),t=Gs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ks(e,t){return qs(e),t=Gs(e,t),e.g.has(t)}function Ws(e,t,n){zs(e,t),0<n.length&&(e.i=null,e.g.set(Gs(e,t),Ei(n)),e.h+=n.length)}function Gs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Js(e){this.l=e||Xs,e=hi.PerformanceNavigationTiming?0<(e=hi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(hi.g&&hi.g.Ga&&hi.g.Ga()&&hi.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oi=Vs.prototype).add=function(e,t){qs(this),this.i=null,e=Gs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},oi.forEach=function(e,t){qs(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},oi.oa=function(){qs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},oi.W=function(e){qs(this);let t=[];if("string"==typeof e)Ks(this,e)&&(t=t.concat(this.g.get(Gs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},oi.set=function(e,t){return qs(this),this.i=null,Ks(this,e=Gs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},oi.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},oi.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};var Xs=10;function Ys(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qs(e){return e.h?1:e.g?e.g.size:0}function Zs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eo(e,t){e.g?e.g.add(t):e.h=t}function to(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function no(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Ei(e.i)}function io(){}function ro(){this.g=new io}function so(e,t,n){const i=n||"";try{Ss(e,(function(e,n){let r=e;pi(e)&&(r=Er(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e}}function oo(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(e){}}function ao(e){this.l=e.$b||null,this.j=e.ib||!1}function co(e,t){_r.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Js.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},io.prototype.stringify=function(e){return hi.JSON.stringify(e,void 0)},io.prototype.parse=function(e){return hi.JSON.parse(e,void 0)},wi(ao,ns),ao.prototype.g=function(){return new co(this.l,this.j)},ao.prototype.i=function(e){return function(){return e}}({}),wi(co,_r);var lo=0;function ho(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function uo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,po(e)}function po(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(oi=co.prototype).open=function(e,t){if(this.readyState!=lo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,po(this)},oi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||hi).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},oi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uo(this)),this.readyState=lo},oi.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==hi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ho(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},oi.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uo(this):po(this),3==this.readyState&&ho(this)}},oi.Ua=function(e){this.g&&(this.response=this.responseText=e,uo(this))},oi.Ta=function(e){this.g&&(this.response=e,uo(this))},oi.ga=function(){this.g&&uo(this)},oi.setRequestHeader=function(e,t){this.v.append(e,t)},oi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},oi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fo=hi.JSON.parse;function go(e){_r.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mo,this.K=this.L=!1}wi(go,_r);var mo="",vo=/^https?$/i,yo=["POST","PUT"];function bo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wo(e),To(e)}function wo(e){e.D||(e.D=!0,Tr(e,"complete"),Tr(e,"error"))}function _o(e){if(e.h&&void 0!==li&&(!e.C[1]||4!=Eo(e)||2!=e.aa()))if(e.v&&4==Eo(e))jr(e.Ha,0,e);else if(Tr(e,"readystatechange"),4==Eo(e)){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===a){var r=String(e.H).match(Cs)[1]||null;if(!r&&hi.self&&hi.self.location){var s=hi.self.location.protocol;r=s.substr(0,s.length-1)}i=!vo.test(r?r.toLowerCase():"")}n=i}if(n)Tr(e,"complete"),Tr(e,"success");else{e.m=6;try{var o=2<Eo(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.aa()+"]",wo(e)}}finally{To(e)}}}function To(e,t){if(e.g){Io(e);const n=e.g,i=e.C[0]?ui:null;e.g=null,e.C=null,t||Tr(e,"ready");try{n.onreadystatechange=i}catch(e){}}}function Io(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(hi.clearTimeout(e.A),e.A=null)}function Eo(e){return e.g?e.g.readyState:0}function ko(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function So(e){let t="";return nr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Co(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=So(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ds(e,t,n))}function Ao(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ro(e){this.Ca=0,this.i=[],this.j=new Vr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Ao("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Ao("baseRetryDelayMs",5e3,e),this.ab=Ao("retryDelaySeedMs",1e4,e),this.Za=Ao("forwardChannelMaxRetries",2,e),this.ta=Ao("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Js(e&&e.concurrentRequestLimit),this.Fa=new ro,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Oo(e){if(No(e),3==e.G){var t=e.U++,n=Rs(e.F);Ds(n,"SID",e.I),Ds(n,"RID",t),Ds(n,"TYPE","terminate"),Mo(e,n),(t=new hs(e,e.j,t,void 0)).K=2,t.v=Ls(Rs(n)),n=!1,hi.navigator&&hi.navigator.sendBeacon&&(n=hi.navigator.sendBeacon(t.v.toString(),"")),!n&&hi.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wo(t.l,null),t.g.da(t.v)),t.F=Date.now(),ws(t)}zo(e)}function Po(e){e.g&&(Fo(e),e.g.cancel(),e.g=null)}function No(e){Po(e),e.u&&(hi.clearTimeout(e.u),e.u=null),Ho(e),e.h.cancel(),e.m&&("number"==typeof e.m&&hi.clearTimeout(e.m),e.m=null)}function Do(e){Ys(e.h)||e.m||(e.m=!0,Or(e.Ja,e),e.C=0)}function Lo(e,t){var n;n=t?t.m:e.U++;const i=Rs(e.F);Ds(i,"SID",e.I),Ds(i,"RID",n),Ds(i,"AID",e.T),Mo(e,i),e.o&&e.s&&Co(i,e.o,e.s),n=new hs(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=jo(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),eo(e.h,n),gs(n,i,t)}function Mo(e,t){e.ia&&nr(e.ia,(function(e,n){Ds(t,n,e)})),e.l&&Ss({},(function(e,n){Ds(t,n,e)}))}function jo(e,t,n){n=Math.min(e.i.length,n);var i=e.l?yi(e.l.Qa,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=t,0>n)t=Math.max(0,r[o].h-100),s=!1;else try{so(a,e,"req"+n+"_")}catch(e){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function Uo(e){e.g||e.u||(e.Z=1,Or(e.Ia,e),e.A=0)}function xo(e){return!(e.g||e.u||3<=e.A||(e.Z++,e.u=Zr(yi(e.Ia,e),Vo(e,e.A)),e.A++,0))}function Fo(e){null!=e.B&&(hi.clearTimeout(e.B),e.B=null)}function Bo(e){e.g=new hs(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Rs(e.sa);Ds(t,"RID","rpc"),Ds(t,"SID",e.I),Ds(t,"CI",e.L?"0":"1"),Ds(t,"AID",e.T),Ds(t,"TYPE","xmlhttp"),Mo(e,t),e.o&&e.s&&Co(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ls(Rs(t)),n.s=null,n.P=!0,ms(n,e)}function Ho(e){null!=e.v&&(hi.clearTimeout(e.v),e.v=null)}function $o(e,t){var n=null;if(e.g==t){Ho(e),Fo(e),e.g=null;var i=2}else{if(!Zs(e.h,t))return;n=t.D,to(e.h,t),i=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;Tr(i=Wr(),new Qr(i,n,t,r)),Do(e)}else Uo(e);else if(3==(r=t.o)||0==r&&0<e.pa||!(1==i&&function(e,t){return!(Qs(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za)||(e.m=Zr(yi(e.Ja,e,t),Vo(e,e.C)),e.C++,0)))}(e,t)||2==i&&xo(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:qo(e,5);break;case 4:qo(e,10);break;case 3:qo(e,6);break;default:qo(e,2)}}function Vo(e,t){let n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function qo(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var i=yi(e.jb,e);n||(n=new As("//www.google.com/images/cleardot.gif"),hi.location&&"http"==hi.location.protocol||Os(n,"https"),Ls(n)),function(e,t){const n=new Vr;if(hi.Image){const i=new Image;i.onload=bi(oo,n,i,"TestLoadImage: loaded",!0,t),i.onerror=bi(oo,n,i,"TestLoadImage: error",!1,t),i.onabort=bi(oo,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=bi(oo,n,i,"TestLoadImage: timeout",!1,t),hi.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else Yr(2);e.G=0,e.l&&e.l.va(t),zo(e),No(e)}function zo(e){if(e.G=0,e.la=[],e.l){const t=no(e.h);0==t.length&&0==e.i.length||(ki(e.la,t),ki(e.la,e.i),e.h.i.length=0,Ei(e.i),e.i.length=0),e.l.ua()}}function Ko(e,t,n){var i=n instanceof As?Rs(n):new As(n,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Ps(i,i.m);else{var r=hi.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new As(null,void 0);i&&Os(s,i),t&&(s.g=t),r&&Ps(s,r),n&&(s.l=n),i=s}return n=e.D,t=e.za,n&&t&&Ds(i,n,t),Ds(i,"VER",e.ma),Mo(e,i),i}function Wo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new go(new ao({ib:!0})):new go(e.ra)).L=e.H,t}function Go(){}function Jo(){if(Ui&&!(10<=Number(Ji)))throw Error("Environmental error: no available transport.")}function Xo(e,t){_r.call(this),this.g=new Ro(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!Ai(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ai(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Zo(this)}function Yo(e){as.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qo(){cs.call(this),this.status=1}function Zo(e){this.g=e}(oi=go.prototype).da=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ss.g(),this.C=this.u?is(this.u):is(ss),this.g.onreadystatechange=yi(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void bo(this,e)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),r=hi.FormData&&e instanceof hi.FormData,!(0<=Ii(yo,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Io(this),0<this.B&&((this.K=function(e){return Ui&&Gi()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.qa,this)):this.A=jr(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){bo(this,e)}},oi.qa=function(){void 0!==li&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},oi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tr(this,"complete"),Tr(this,"abort"),To(this))},oi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),To(this,!0)),go.X.M.call(this)},oi.Ha=function(){this.s||(this.F||this.v||this.l?_o(this):this.eb())},oi.eb=function(){_o(this)},oi.aa=function(){try{return 2<Eo(this)?this.g.status:-1}catch(e){return-1}},oi.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},oi.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fo(t)}},oi.Ea=function(){return this.m},oi.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(oi=Ro.prototype).ma=8,oi.G=1,oi.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new hs(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=ir(s),sr(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=jo(this,r,t),Ds(n=Rs(this.F),"RID",e),Ds(n,"CVER",22),this.D&&Ds(n,"X-HTTP-Session-Id",this.D),Mo(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(So(s)))+"&"+t:this.o&&Co(n,this.o,s)),eo(this.h,r),this.Xa&&Ds(n,"TYPE","init"),this.O?(Ds(n,"$req",t),Ds(n,"SID","null"),r.Z=!0,gs(r,n,null)):gs(r,n,t),this.G=2}}else 3==this.G&&(e?Lo(this,e):0==this.i.length||Ys(this.h)||Lo(this))},oi.Ia=function(){if(this.u=null,Bo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Zr(yi(this.cb,this),e)}},oi.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yr(10),Po(this),Bo(this))},oi.bb=function(){null!=this.v&&(this.v=null,Po(this),xo(this),Yr(19))},oi.jb=function(e){e?(this.j.info("Successfully pinged google.com"),Yr(2)):(this.j.info("Failed to ping google.com"),Yr(1))},(oi=Go.prototype).xa=function(){},oi.wa=function(){},oi.va=function(){},oi.ua=function(){},oi.Qa=function(){},Jo.prototype.g=function(e,t){return new Xo(e,t)},wi(Xo,_r),Xo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Yr(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Ko(e,null,e.V),Do(e)},Xo.prototype.close=function(){Oo(this.g)},Xo.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Er(e),e=n);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.$a++,e)),3==t.G&&Do(t)},Xo.prototype.M=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,Xo.X.M.call(this)},wi(Yo,as),wi(Qo,cs),wi(Zo,Go),Zo.prototype.xa=function(){Tr(this.g,"a")},Zo.prototype.wa=function(e){Tr(this.g,new Yo(e))},Zo.prototype.va=function(e){Tr(this.g,new Qo(e))},Zo.prototype.ua=function(){Tr(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,Xo.prototype.send=Xo.prototype.u,Xo.prototype.open=Xo.prototype.m,Xo.prototype.close=Xo.prototype.close,es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,ts.COMPLETE="complete",rs.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",_r.prototype.listen=_r.prototype.N,go.prototype.listenOnce=go.prototype.O,go.prototype.getLastError=go.prototype.Na,go.prototype.getLastErrorCode=go.prototype.Ea,go.prototype.getStatus=go.prototype.aa,go.prototype.getResponseJson=go.prototype.Ra,go.prototype.getResponseText=go.prototype.fa,go.prototype.send=go.prototype.da,ci.createWebChannelTransport=function(){return new Jo},ci.getStatEventTarget=function(){return Wr()},ci.ErrorCode=es,ci.EventType=ts,ci.Event=zr,ci.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ci.FetchXmlHttpFactory=ao,ci.WebChannel=rs,ci.XhrIo=go;const ea="@firebase/firestore";class ta{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ta.UNAUTHENTICATED=new ta(null),ta.GOOGLE_CREDENTIALS=new ta("google-credentials-uid"),ta.FIRST_PARTY=new ta("first-party-uid"),ta.MOCK_USER=new ta("mock-user");let na="9.11.0";const ia=new x("@firebase/firestore");function ra(e,...t){if(ia.logLevel<=N.DEBUG){const n=t.map(oa);ia.debug(`Firestore (${na}): ${e}`,...n)}}function sa(e,...t){if(ia.logLevel<=N.ERROR){const n=t.map(oa);ia.error(`Firestore (${na}): ${e}`,...n)}}function oa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function aa(e="Unexpected state"){const t=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+e;throw sa(t),new Error(t)}function ca(e,t){e||aa()}const la="cancelled",ha="invalid-argument",ua="failed-precondition",da="unavailable";class pa extends m{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ga{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ma{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ta.UNAUTHENTICATED)))}shutdown(){}}class va{constructor(e){this.t=e,this.currentUser=ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new fa,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{ra("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ra("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new fa)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ra("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ca("string"==typeof t.accessToken),new ga(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ca(null===e||"string"==typeof e),new ta(e)}}class ya{constructor(e,t,n,i){this.h=e,this.l=t,this.m=n,this.g=i,this.type="FirstParty",this.user=ta.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ca(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ba{constructor(e,t,n,i){this.h=e,this.l=t,this.m=n,this.g=i}getToken(){return Promise.resolve(new ya(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable((()=>t(ta.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _a{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&ra("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.A;return this.A=e.token,ra("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{ra("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?i(e):ra("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ca("string"==typeof e.token),this.A=e.token,new wa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ta(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}function Ia(e,t){return e<t?-1:e>t?1:0}class Ea{constructor(e,t,n){void 0===t?t=0:t>e.length&&aa(),void 0===n?n=e.length-t:n>e.length-t&&aa(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ea.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ea?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ka extends Ea{construct(e,t,n){return new ka(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new pa(ha,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ka(t)}static emptyPath(){return new ka([])}}class Sa{constructor(e){this.path=e}static fromPath(e){return new Sa(ka.fromString(e))}static fromName(e){return new Sa(ka.fromString(e).popFirst(5))}static empty(){return new Sa(ka.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ka.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ka.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sa(new ka(e.slice()))}}function Ca(e){return"IndexedDbTransactionError"===e.name}class Aa{constructor(e,t){this.comparator=e,this.root=t||Oa.EMPTY}insert(e,t){return new Aa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oa.BLACK,null,null))}remove(e){return new Aa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ra(this.root,e,this.comparator,!0)}}class Ra{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oa{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Oa.RED,this.left=null!=i?i:Oa.EMPTY,this.right=null!=r?r:Oa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new Oa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Oa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw aa();if(this.right.isRed())throw aa();const e=this.left.check();if(e!==this.right.check())throw aa();return e+(this.isRed()?0:1)}}Oa.EMPTY=null,Oa.RED=!0,Oa.BLACK=!1,Oa.EMPTY=new class{constructor(){this.size=0}get key(){throw aa()}get value(){throw aa()}get color(){throw aa()}get left(){throw aa()}get right(){throw aa()}copy(e,t,n,i,r){return this}insert(e,t,n){return new Oa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pa{constructor(e){this.comparator=e,this.data=new Aa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Na(this.data.getIterator())}getIteratorFrom(e){return new Na(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Pa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pa(this.comparator);return t.data=e,t}}class Na{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Da{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Da(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Da(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ia(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function La(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}Da.EMPTY_BYTE_STRING=new Da("");class Ma{constructor(e,t,n,i,r,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}var Ua,xa;(xa=Ua||(Ua={}))[xa.OK=0]="OK",xa[xa.CANCELLED=1]="CANCELLED",xa[xa.UNKNOWN=2]="UNKNOWN",xa[xa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xa[xa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xa[xa.NOT_FOUND=5]="NOT_FOUND",xa[xa.ALREADY_EXISTS=6]="ALREADY_EXISTS",xa[xa.PERMISSION_DENIED=7]="PERMISSION_DENIED",xa[xa.UNAUTHENTICATED=16]="UNAUTHENTICATED",xa[xa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xa[xa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xa[xa.ABORTED=10]="ABORTED",xa[xa.OUT_OF_RANGE=11]="OUT_OF_RANGE",xa[xa.UNIMPLEMENTED=12]="UNIMPLEMENTED",xa[xa.INTERNAL=13]="INTERNAL",xa[xa.UNAVAILABLE=14]="UNAVAILABLE",xa[xa.DATA_LOSS=15]="DATA_LOSS",new Aa(Sa.comparator),new Aa(Sa.comparator),new Aa(Sa.comparator),new Pa(Sa.comparator),new Pa(Ia);class Fa{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(La(e.integerValue));else if("doubleValue"in e){const n=La(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),function(e){return 0===e&&1/e==-1/0}(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.le(t,20),"string"==typeof n?t.de(n):(t.de(`${n.seconds||""}`),t.fe(n.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(function(e){return"string"==typeof e?Da.fromBase64String(e):Da.fromUint8Array(e)}(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.le(t,45),t.fe(n.latitude||0),t.fe(n.longitude||0)}else"mapValue"in e?function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):aa()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const n=e.fields||{};this.le(t,55);for(const e of Object.keys(n))this._e(e,t),this.ae(n[e],t)}pe(e,t){const n=e.values||[];this.le(t,50);for(const e of n)this.ae(e,t)}ge(e,t){this.le(t,37),Sa.fromName(e).path.forEach((e=>{this.le(t,60),this.Ie(e,t)}))}le(e,t){e.fe(t)}we(e){e.fe(2)}}Fa.Te=new Fa,new Uint8Array(0);class Ba{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ba(e,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ha(){return"undefined"!=typeof document?document:null}Ba.DEFAULT_COLLECTION_PERCENTILE=10,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ba.DEFAULT=new Ba(41943040,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ba.DISABLED=new Ba(-1,0,0);class $a{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Hs=e,this.timerId=t,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-n);i>0&&ra("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Va{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new Va(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pa(la,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}const qa=new Map;class za{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new pa(ha,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pa(ha,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,i){if(!0===t&&!0===i)throw new pa(ha,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ka{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ta.UNAUTHENTICATED,this.clientId=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Ta(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ra("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ra("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pa(ua,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=function(e,t){if(sa("AsyncQueue",`${t}: ${e}`),Ca(e))return new pa(da,`${t}: ${e}`);throw e}(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}class Wa{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new $a(this,"async_queue_retry"),this.Wc=()=>{const e=Ha();e&&ra("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const e=Ha();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Ha();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise((()=>{}));const t=new fa;return this.Hc((()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Lc.push(e),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.No.reset()}catch(e){if(!Ca(e))throw e;ra("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.No.Ro((()=>this.Jc()))}}Hc(e){const t=this.Bc.then((()=>(this.Gc=!0,e().catch((e=>{this.Kc=e,this.Gc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw sa("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Gc=!1,e))))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Va.createAndSchedule(this,e,t,n,(e=>this.Yc(e)));return this.qc.push(i),i}zc(){this.Kc&&aa()}verifyOperationInProgress(){}async Xc(){let e;do{e=this.Bc,await e}while(e!==this.Bc)}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then((()=>{this.qc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()}))}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}class Ga extends class{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new za({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pa(ua,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pa(ua,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new za(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ma;switch(e.type){case"gapi":const t=e.client;return new ba(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pa(ha,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qa.get(e);t&&(ra("ComponentProvider","Removing Datastore"),qa.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Wa,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new Ma(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ka(e._authCredentials,e._appCheckCredentials,e._queue,i)}(this),this._firestoreClient.terminate()}}!function(e,t=!0){na="9.11.0",de(new C("firestore",((e,{instanceIdentifier:n,options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Ga(new va(e.getProvider("auth-internal")),new _a(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pa(ha,'"projectId" not provided in firebase.initializeApp.');return new ja(e.options.projectId,t)}(r,n),r);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),ye(ea,"3.6.0",e),ye(ea,"3.6.0","esm2017")}();const Ja="firebasestorage.googleapis.com";class Xa extends m{constructor(e,t){super(Ya(e),`Firebase Storage: ${t} (${Ya(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xa.prototype)}_codeEquals(e){return Ya(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function Ya(e){return"storage/"+e}function Qa(e){return new Xa("invalid-argument",e)}function Za(){return new Xa("app-deleted","The Firebase app was deleted.")}class ec{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ec.makeFromUrl(e,t)}catch(t){return new ec(e,"")}if(""===n.path)return n;throw new Xa("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Ja?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let t=0;t<a.length;t++){const i=a[t],r=i.regex.exec(e);if(r){const e=r[i.indices.bucket];let t=r[i.indices.path];t||(t=""),n=new ec(e,t),i.postModify(n);break}}if(null==n)throw function(e){return new Xa("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class tc{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function nc(e,t,n,i){if(i<t)throw Qa(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Qa(`Invalid value for '${e}'. Expected ${n} or less.`)}var ic,rc;(rc=ic||(ic={}))[rc.NO_ERROR=0]="NO_ERROR",rc[rc.NETWORK_ERROR=1]="NETWORK_ERROR",rc[rc.ABORT=2]="ABORT";class sc{constructor(e,t,n,i,r,s,o,a,c,l,h){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(e){i(e)}else if(null!==r){const e=new Xa("unknown","An unknown error occurred, please check the error payload for server response.");e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else t.canceled?i(this.appDelete_?Za():new Xa("canceled","User canceled the upload/download.")):i(new Xa("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new oc(!1,null,!0)):this.backoffId_=function(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function h(...e){l||(l=!0,t.apply(null,e))}function u(t){r=setTimeout((()=>{r=null,e(p,c())}),t)}function d(){s&&clearTimeout(s)}function p(e,...t){if(l)return void d();if(e)return d(),void h.call(null,e,...t);if(c()||o)return d(),void h.call(null,e,...t);let n;i<64&&(i*=2),1===a?(a=2,n=0):n=1e3*(i+Math.random()),u(n)}let f=!1;function g(e){f||(f=!0,d(),l||(null!==r?(e||(a=2),clearTimeout(r),u(0)):e||(a=1)))}return u(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(((e,t)=>{if(t)return void e(!1,new oc(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===ic.NO_ERROR,r=n.getStatus();if(!t||this.isRetryStatusCode_(r)){const t=n.getErrorCode()===ic.ABORT;return void e(!1,new oc(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new oc(s,n))}))}),e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||i}}class oc{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}class ac{constructor(e,t){this._service=e,this._location=t instanceof ec?t:ec.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ac(e,t)}get root(){const e=new ec(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ec(this._location.bucket,e);return new ac(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Xa("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function cc(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:ec.makeFromBucketSpec(n,e)}class lc{constructor(e,t,n,i,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=Ja,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ec.makeFromBucketSpec(i,this._host):cc(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ec.makeFromBucketSpec(this._url,e):this._bucket=cc(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ac(this,e)}_makeRequest(e,t,n,i){if(this._deleted)return new tc(Za());{const r=function(e,t,n,i,r,s){const o=function(e){const t=encodeURIComponent;let n="?";for(const i in e)e.hasOwnProperty(i)&&(n=n+(t(i)+"=")+t(e[i])+"&");return n=n.slice(0,-1),n}(e.urlParams),a=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,i),new sc(a,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,n,i,t,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((()=>this._requests.delete(r)),(()=>this._requests.delete(r))),r}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const hc="@firebase/storage",uc="0.9.10";de(new C("storage",(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new lc(n,i,r,t,me)}),"PUBLIC").setMultipleInstances(!0)),ye(hc,uc,""),ye(hc,uc,"esm2017");const dc="@firebase/installations",pc="0.5.13",fc="w:0.5.13",gc=new v("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mc(e){return e instanceof m&&e.code.includes("request-failed")}function vc({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function yc(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function bc(e,t){const n=(await t.json()).error;return gc.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function wc({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function _c(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Tc(e){return new Promise((t=>{setTimeout(t,e)}))}const Ic=/^[cdef][\w-]{21}$/;function Ec(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Ic.test(t)?t:""}catch(e){return""}}function kc(e){return`${e.appName}!${e.appId}`}const Sc=new Map;function Cc(e,t){const n=kc(e);Ac(n,t),function(e,t){const n=(!Rc&&"BroadcastChannel"in self&&(Rc=new BroadcastChannel("[Firebase] FID Change"),Rc.onmessage=e=>{Ac(e.data.key,e.data.fid)}),Rc);n&&n.postMessage({key:e,fid:t}),0===Sc.size&&Rc&&(Rc.close(),Rc=null)}(n,t)}function Ac(e,t){const n=Sc.get(e);if(n)for(const e of n)e(t)}let Rc=null;const Oc="firebase-installations-store";let Pc=null;function Nc(){return Pc||(Pc=X("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Oc)}})),Pc}async function Dc(e,t){const n=kc(e),i=(await Nc()).transaction(Oc,"readwrite"),r=i.objectStore(Oc),s=await r.get(n);return await r.put(t,n),await i.done,s&&s.fid===t.fid||Cc(e,t.fid),t}async function Lc(e){const t=kc(e),n=(await Nc()).transaction(Oc,"readwrite");await n.objectStore(Oc).delete(t),await n.done}async function Mc(e,t){const n=kc(e),i=(await Nc()).transaction(Oc,"readwrite"),r=i.objectStore(Oc),s=await r.get(n),o=t(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,!o||s&&s.fid===o.fid||Cc(e,o.fid),o}async function jc(e){let t;const n=await Mc(e.appConfig,(n=>{const i=function(e){return Fc(e||{fid:Ec(),registrationStatus:0})}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(gc.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=vc(e),r=wc(e),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const o={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:fc},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await _c((()=>fetch(i,a)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:yc(e.authToken)}}throw await bc("Create Installation",c)}(e,t);return Dc(e.appConfig,n)}catch(n){throw mc(n)&&409===n.customData.serverCode?await Lc(e.appConfig):await Dc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Uc(e)}:{installationEntry:t}}(e,i);return t=r.registrationPromise,r.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Uc(e){let t=await xc(e.appConfig);for(;1===t.registrationStatus;)await Tc(100),t=await xc(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await jc(e);return n||t}return t}function xc(e){return Mc(e,(e=>{if(!e)throw gc.create("installation-not-found");return Fc(e)}))}function Fc(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Bc({appConfig:e,heartbeatServiceProvider:t},n){const i=function(e,{fid:t}){return`${vc(e)}/${t}/authTokens:generate`}(e,n),r=function(e,{refreshToken:t}){const n=wc(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}(e,n),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const o={installation:{sdkVersion:fc,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await _c((()=>fetch(i,a)));if(c.ok)return yc(await c.json());throw await bc("Generate Auth Token",c)}async function Hc(e,t=!1){let n;const i=await Mc(e.appConfig,(i=>{if(!Vc(i))throw gc.create("not-registered");const r=i.authToken;if(!t&&(2===(s=r).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(s)))return i;var s;if(1===r.requestStatus)return n=async function(e,t){let n=await $c(e.appConfig);for(;1===n.authToken.requestStatus;)await Tc(100),n=await $c(e.appConfig);const i=n.authToken;return 0===i.requestStatus?Hc(e,t):i}(e,t),i;{if(!navigator.onLine)throw gc.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(i);return n=async function(e,t){try{const n=await Bc(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Dc(e.appConfig,i),n}catch(n){if(!mc(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Dc(e.appConfig,n)}else await Lc(e.appConfig);throw n}}(e,t),t}}));return n?await n:i.authToken}function $c(e){return Mc(e,(e=>{if(!Vc(e))throw gc.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function Vc(e){return void 0!==e&&2===e.registrationStatus}function qc(e){return gc.create("missing-app-config-values",{valueName:e})}const zc="installations";de(new C(zc,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw qc("App Configuration");if(!e.name)throw qc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw qc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:pe(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),de(new C("installations-internal",(e=>{const t=pe(e.getProvider("app").getImmediate(),zc).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:i}=await jc(t);return i?i.catch(console.error):Hc(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await jc(e);t&&await t}(n),(await Hc(n,t)).token}(t,e)}}),"PRIVATE")),ye(dc,pc),ye(dc,pc,"esm2017");const Kc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Wc,Gc;function Jc(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xc(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length);for(let e=0;e<n.length;++e)i[e]=n.charCodeAt(e);return i}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Wc||(Wc={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Gc||(Gc={}));const Yc="fcm_token_details_db",Qc="fcm_token_object_Store",Zc="firebase-messaging-store";let el=null;function tl(){return el||(el=X("firebase-messaging-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Zc)}})),el}async function nl(e){const t=rl(e),n=await tl(),i=await n.transaction(Zc).objectStore(Zc).get(t);if(i)return i;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(Yc))return null}let t=null;const n=await X(Yc,5,{upgrade:async(n,i,r,s)=>{var o;if(i<2)return;if(!n.objectStoreNames.contains(Qc))return;const a=s.objectStore(Qc),c=await a.index("fcmSenderId").get(e);if(await a.clear(),c)if(2===i){const e=c;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Jc(e.vapidKey)}}}else if(3===i){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Jc(e.auth),p256dh:Jc(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Jc(e.vapidKey)}}}else if(4===i){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Jc(e.auth),p256dh:Jc(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Jc(e.vapidKey)}}}}});return n.close(),await Y(Yc),await Y("fcm_vapid_details_db"),await Y("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await il(e,t),t}}async function il(e,t){const n=rl(e),i=(await tl()).transaction(Zc,"readwrite");return await i.objectStore(Zc).put(t,n),await i.done,t}function rl({appConfig:e}){return e.appId}const sl=new v("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function ol(e,t){var n;const i={method:"DELETE",headers:await cl(e)};try{const n=await fetch(`${al(e.appConfig)}/${t}`,i),r=await n.json();if(r.error){const e=r.error.message;throw sl.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw sl.create("token-unsubscribe-failed",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()})}}function al({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function cl({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function ll({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:t,p256dh:e}};return i!==Kc&&(r.web.applicationPubKey=i),r}async function hl(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xc(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Jc(t.getKey("auth")),p256dh:Jc(t.getKey("p256dh"))},i=await nl(e.firebaseDependencies);if(i){if(function(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,r=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&r&&s}(i.subscriptionOptions,n))return Date.now()>=i.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){var n;const i=await cl(e),r=ll(t.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let o;try{const n=await fetch(`${al(e.appConfig)}/${t.token}`,s);o=await n.json()}catch(e){throw sl.create("token-update-failed",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()})}if(o.error){const e=o.error.message;throw sl.create("token-update-failed",{errorInfo:e})}if(!o.token)throw sl.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await il(e.firebaseDependencies,i),n}catch(t){throw await async function(e){const t=await nl(e.firebaseDependencies);t&&(await ol(e.firebaseDependencies,t.token),await async function(e){const t=rl(e),n=(await tl()).transaction(Zc,"readwrite");await n.objectStore(Zc).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}(e),t}}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await ol(e.firebaseDependencies,i.token)}catch(e){console.warn(e)}return ul(e.firebaseDependencies,n)}return ul(e.firebaseDependencies,n)}async function ul(e,t){const n=await async function(e,t){var n;const i=await cl(e),r=ll(t),s={method:"POST",headers:i,body:JSON.stringify(r)};let o;try{const t=await fetch(al(e.appConfig),s);o=await t.json()}catch(e){throw sl.create("token-subscribe-failed",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()})}if(o.error){const e=o.error.message;throw sl.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw sl.create("token-subscribe-no-token");return o.token}(e,t),i={token:n,createTime:Date.now(),subscriptionOptions:t};return await il(e,i),i.token}function dl(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const r=t.notification.image;r&&(e.notification.image=r)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,i,r,s,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const c=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function pl(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e.charAt(i)),i<t.length&&n.push(t.charAt(i));return n.join("")}function fl(e){return sl.create("missing-app-config-values",{valueName:e})}pl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gl{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(e){if(!e||!e.options)throw fl("App Configuration Object");if(!e.name)throw fl("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw fl(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function ml(e,t){if(!navigator)throw sl.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw sl.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Kc)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await async function(e){var t;try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch((()=>{}))}catch(e){throw sl.create("failed-service-worker-registration",{browserErrorMessage:null===(t=e)||void 0===t?void 0:t.message})}}(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw sl.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),hl(e)}async function vl(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Gc.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(dl(n)):e.onMessageHandler.next(dl(n)));const i=n.data;var r;"object"==typeof(r=i)&&r&&"google.c.a.c_id"in r&&"1"===i["google.c.a.e"]&&await async function(e,t,n){const i=function(e){switch(e){case Gc.NOTIFICATION_CLICKED:return"notification_open";case Gc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}(e,n.messageType,i)}const yl="@firebase/messaging",bl="0.9.17";de(new C("messaging",(e=>{const t=new gl(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>vl(t,e))),t}),"PUBLIC")),de(new C("messaging-internal",(e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>ml(t,e)}}),"PRIVATE")),ye(yl,bl),ye(yl,bl,"esm2017");const wl="@firebase/performance",_l="0.5.13",Tl=_l,Il="FB-PERF-TRACE-MEASURE",El="_wt_",kl="_fcp",Sl="_fid",Cl="@firebase/performance/config",Al="@firebase/performance/configexpire",Rl="Performance",Ol=new v("performance",Rl,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Pl=new x(Rl);let Nl,Dl,Ll,Ml;Pl.logLevel=N.INFO;class jl{constructor(e){if(this.window=e,!e)throw Ol.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){this.performance&&this.performance.mark&&this.performance.mark(e)}measure(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&"undefined"!=typeof navigator&&navigator.cookieEnabled?!!u()||(Pl.info("IndexedDB is not supported by current browswer"),!1):(Pl.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){if(!this.PerformanceObserver)return;new this.PerformanceObserver((e=>{for(const n of e.getEntries())t(n)})).observe({entryTypes:[e]})}static getInstance(){return void 0===Nl&&(Nl=new jl(Dl)),Nl}}function Ul(){return Ll}function xl(e,t){const n=e.length-t.length;if(n<0||n>1)throw Ol.create("invalid String merger input");const i=[];for(let n=0;n<e.length;n++)i.push(e.charAt(n)),t.length>n&&i.push(t.charAt(n));return i.join("")}class Fl{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=xl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=xl("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===Ml&&(Ml=new Fl),Ml}}var Bl;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Bl||(Bl={}));const Hl=["firebase_","google_","ga_"],$l=new RegExp("^[a-zA-Z]\\w*$");function Vl(){const e=jl.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function ql(){switch(jl.getInstance().document.visibilityState){case"visible":return Bl.VISIBLE;case"hidden":return Bl.HIDDEN;default:return Bl.UNKNOWN}}function zl(){const e=jl.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Kl(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.appId;if(!n)throw Ol.create("no app id");return n}const Wl={loggingEnabled:!0};const Gl="Could not fetch config, will use default configs";function Jl(e){if(!e)return e;const t=Fl.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Wl.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):Wl.logSource&&(t.logSource=Wl.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:Wl.logEndPointUrl&&(t.logEndPointUrl=Wl.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:Wl.transportKey&&(t.transportKey=Wl.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Wl.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=Wl.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Wl.tracesSamplingRate&&(t.tracesSamplingRate=Wl.tracesSamplingRate),t.logTraceAfterSampling=Xl(t.tracesSamplingRate),t.logNetworkAfterSampling=Xl(t.networkRequestsSamplingRate),e}function Xl(e){return Math.random()<=e}let Yl,Ql=1;function Zl(e){return Ql=2,Yl=Yl||function(e){return function(){const e=jl.getInstance().document;return new Promise((t=>{if(e&&"complete"!==e.readyState){const n=()=>{"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((()=>function(e){const t=e.getId();return t.then((e=>{Ll=e})),t}(e.installations))).then((t=>function(e,t){const n=function(){const e=jl.getInstance().localStorage;if(!e)return;const t=e.getItem(Al);if(!(t&&(n=t,Number(n)>Date.now())))return;var n;const i=e.getItem(Cl);if(i)try{return JSON.parse(i)}catch(e){return}}();return n?(Jl(n),Promise.resolve()):function(e,t){return function(e){const t=e.getToken();return t.then((e=>{})),t}(e.installations).then((n=>{const i=function(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!n)throw Ol.create("no project id");return n}(e.app),r=function(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!n)throw Ol.create("no api key");return n}(e.app),s=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:Kl(e.app),app_version:Tl,sdk_version:"0.0.1"})});return fetch(s).then((e=>{if(e.ok)return e.json();throw Ol.create("RC response not ok")}))})).catch((()=>{Pl.info(Gl)}))}(e,t).then(Jl).then((e=>function(e){const t=jl.getInstance().localStorage;e&&t&&(t.setItem(Cl,JSON.stringify(e)),t.setItem(Al,String(Date.now()+60*Fl.getInstance().configTimeToLive*60*1e3)))}(e)),(()=>{}))}(e,t))).then((()=>eh()),(()=>eh()))}(e),Yl}function eh(){Ql=3}const th=1e4;let nh,ih=3,rh=[],sh=!1;function oh(e){setTimeout((()=>{if(0!==ih)return rh.length?void function(){const e=rh.splice(0,1e3),t=e.map((e=>({source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)})));(function(e,t){return function(e){const t=Fl.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((e=>(e.ok||Pl.info("Call to Firebase backend failed."),e.json()))).then((e=>{const n=Number(e.nextRequestWaitMillis);let i=th;isNaN(n)||(i=Math.max(n,i));const r=e.logResponseDetails;Array.isArray(r)&&r.length>0&&"RETRY_REQUEST_LATER"===r[0].responseAction&&(rh=[...t,...rh],Pl.info("Retry transport request later.")),ih=3,oh(i)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Fl.getInstance().logSource,log_event:t},e).catch((()=>{rh=[...e,...rh],ih--,Pl.info(`Tries left: ${ih}.`),oh(th)}))}():oh(th)}),e)}function ah(e,t){nh||(nh=function(e){return(...t)=>{!function(e){if(!e.eventTime||!e.message)throw Ol.create("invalid cc log");rh=[...rh,e]}({message:e(...t),eventTime:Date.now()})}}(hh)),nh(e,t)}function ch(e){const t=Fl.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&jl.getInstance().requiredApisAvailable()&&(e.isAuto&&ql()!==Bl.VISIBLE||(3===Ql?lh(e):Zl(e.performanceController).then((()=>lh(e)),(()=>lh(e)))))}function lh(e){if(!Ul())return;const t=Fl.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((()=>ah(e,1)),0)}function hh(e,t){return 0===t?function(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:uh(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}(e):function(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);const n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);const i={application_info:uh(e.performanceController.app),trace_metric:t};return JSON.stringify(i)}(e)}function uh(e){return{google_app_id:Kl(e),app_instance_id:Ul(),web_app_info:{sdk_version:Tl,page_url:jl.getInstance().getUrl(),service_worker_status:Vl(),visibility_state:ql(),effective_connection_type:zl()},application_process_state:0}}const dh=["_fp",kl,Sl];class ph{constructor(e,t,n=!1,i){this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=jl.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`FB-PERF-TRACE-MEASURE-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Ol.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Ol.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ch(this)}record(e,t,n){if(e<=0)throw Ol.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Ol.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(const e of Object.keys(n.metrics))isNaN(Number(n.metrics[e]))||(this.counters[e]=Math.floor(Number(n.metrics[e])));ch(this)}incrementMetric(e,t=1){void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}putMetric(e,t){if(n=e,i=this.name,0===n.length||n.length>100||!(i&&i.startsWith(El)&&dh.indexOf(n)>-1)&&n.startsWith("_"))throw Ol.create("invalid custom metric name",{customMetricName:e});var n,i;this.counters[e]=function(e){const t=Math.floor(e);return t<e&&Pl.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(null!=t?t:0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const n=!(0===(i=e).length||i.length>40||Hl.some((e=>i.startsWith(e)))||!i.match($l));var i;const r=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&r)this.customAttributes[e]=t;else{if(!n)throw Ol.create("invalid attribute name",{attributeName:e});if(!r)throw Ol.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,n,i){const r=jl.getInstance().getUrl();if(!r)return;const s=new ph(e,El+r,!0),o=Math.floor(1e3*jl.getInstance().getTimeOrigin());if(s.setStartTime(o),t&&t[0]&&(s.setDuration(Math.floor(1e3*t[0].duration)),s.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),s.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),s.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){const e=n.find((e=>"first-paint"===e.name));e&&e.startTime&&s.putMetric("_fp",Math.floor(1e3*e.startTime));const t=n.find((e=>"first-contentful-paint"===e.name));t&&t.startTime&&s.putMetric(kl,Math.floor(1e3*t.startTime)),i&&s.putMetric(Sl,Math.floor(1e3*i))}ch(s)}static createUserTimingTrace(e,t){ch(new ph(e,t,!1,t))}}function fh(e,t){const n=t;if(!n||void 0===n.responseStart)return;const i=jl.getInstance().getTimeOrigin(),r=Math.floor(1e3*(n.startTime+i)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function(e){const t=Fl.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,i=t.logEndPointUrl.split("?")[0],r=t.flTransportEndpointUrl.split("?")[0];n!==i&&n!==r&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((()=>ah(e,0)),0)}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function gh(e){Ul()&&(setTimeout((()=>function(e){const t=jl.getInstance(),n=t.getEntriesByType("navigation"),i=t.getEntriesByType("paint");if(t.onFirstInputDelay){let r=setTimeout((()=>{ph.createOobTrace(e,n,i),r=void 0}),5e3);t.onFirstInputDelay((t=>{r&&(clearTimeout(r),ph.createOobTrace(e,n,i,t))}))}else ph.createOobTrace(e,n,i)}(e)),0),setTimeout((()=>function(e){const t=jl.getInstance(),n=t.getEntriesByType("resource");for(const t of n)fh(e,t);t.setupObserver("resource",(t=>fh(e,t)))}(e)),0),setTimeout((()=>function(e){const t=jl.getInstance(),n=t.getEntriesByType("measure");for(const t of n)mh(e,t);t.setupObserver("measure",(t=>mh(e,t)))}(e)),0))}function mh(e,t){const n=t.name;n.substring(0,Il.length)!==Il&&ph.createUserTimingTrace(e,n)}class vh{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),jl.getInstance().requiredApisAvailable()?d().then((e=>{e&&(sh||(oh(5500),sh=!0),Zl(this).then((()=>gh(this)),(()=>gh(this))),this.initialized=!0)})).catch((e=>{Pl.info(`Environment doesn't support IndexedDB: ${e}`)})):Pl.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Fl.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Fl.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Fl.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Fl.getInstance().dataCollectionEnabled}}var yh,bh;de(new C("performance",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw Ol.create("FB not default");if("undefined"==typeof window)throw Ol.create("no window");!function(e){Dl=e}(window);const r=new vh(n,i);return r._init(t),r}),"PUBLIC")),ye(wl,_l),ye(wl,_l,"esm2017"),t.retrieveData(),document.getElementById("completed").addEventListener("click",(()=>{t.projectsArray.completedTasks.forEach((e=>{t.clearAllProjectsFromDOM(),(e=>{document.getElementById("new-task").style.display="none";const t=document.querySelector(".task-list"),n=document.createElement("div");n.classList.add("row"),t.appendChild(n);const i=document.createElement("div");i.classList.add("row-left"),n.appendChild(i);const r=document.createElement("img");r.src="../src/images/checked-circle.svg",i.appendChild(r);const s=document.createElement("div");s.classList.add("task"),i.appendChild(s);const o=document.createElement("div");if(o.textContent=e[0].title,o.classList.add("task-title"),"none"!==e[0].priority){const t=document.createElement("div");t.classList.add("task-title-container"),s.appendChild(t);const n=document.createElement("div");t.appendChild(n),t.appendChild(o),"low"===e[0].priority?(n.textContent="!",n.classList.add("low")):"medium"===e[0].priority?(n.textContent="!!",n.classList.add("medium")):"high"===e[0].priority&&(n.textContent="!!!",n.classList.add("high"))}else s.appendChild(o);if(""!==e[0].notes){const t=document.createElement("div");t.textContent=e[0].notes,t.classList.add("task-notes"),s.appendChild(t)}if(""!==e[0].date){const t=document.createElement("div");t.textContent=e[0].date,t.classList.add("task-date"),s.appendChild(t)}})(e)})),t.completedTasksIsClicked.completedClicked=!0,t.showSelectedProject()})),ve(getFirebaseConfig()),yh=ri(),bh=authStateObserver,S(yh).onAuthStateChanged(bh,undefined,undefined),async function(){var e=new zt;await async function(e,t,n){const i=Ot(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&De(e,"argument-error"),Me(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,$t);const r=Tn(i,void 0);return new Rn(i,"signInViaPopup",t,r).executeNotNull()}(ri(),e)}()})()})();